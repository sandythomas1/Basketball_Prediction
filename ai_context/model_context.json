{
  "generated_at": "2026-02-22T00:02:15.758451",
  "model_name": "NBA Game Prediction Model v3",
  "model_type": "XGBoost with Logistic Regression Calibration",
  "model_file": "xgb_v3_with_injuries.json",
  "calibrator_file": "calibrator_v3.pkl",
  "description": "XGBoost model trained on NBA games from 2004\u20132022. Expanded from 25 to 31 features in v3 by adding explicit injury columns. Probabilities are isotonically calibrated for accuracy.",
  "features_used": {
    "elo_ratings": {
      "description": "Team strength ratings derived from the entire NBA historical record. Ratings are adjusted downward for injured players before prediction.",
      "features": [
        "elo_home",
        "elo_away",
        "elo_diff",
        "elo_prob"
      ],
      "typical_range": "1200\u20131650 (average ~1500; higher = stronger team)"
    },
    "rolling_stats": {
      "description": "Team performance metrics averaged over last 10 games (pre-game window).",
      "features": [
        "pf_roll_home",
        "pf_roll_away",
        "pf_roll_diff",
        "pa_roll_home",
        "pa_roll_away",
        "pa_roll_diff",
        "win_roll_home",
        "win_roll_away",
        "win_roll_diff",
        "margin_roll_home",
        "margin_roll_away",
        "margin_roll_diff"
      ]
    },
    "game_window": {
      "description": "Number of games played in the rolling window (handles early-season small samples).",
      "features": [
        "games_in_window_home",
        "games_in_window_away"
      ]
    },
    "rest_factors": {
      "description": "Days since last game and back-to-back indicators.",
      "features": [
        "home_rest_days",
        "away_rest_days",
        "home_b2b",
        "away_b2b",
        "rest_diff"
      ],
      "impact": "Back-to-back teams typically see 2\u20135% decrease in win probability."
    },
    "betting_markets": {
      "description": "Implied win probability from the betting market moneyline. Markets incorporate late-breaking information (trades, injury news) rapidly.",
      "features": [
        "market_prob_home",
        "market_prob_away"
      ]
    },
    "injury_features": {
      "description": "NEW IN v3 \u2014 Explicit injury columns. Zero for all historical training rows (no historical injury data). Populated from live ESPN API at inference time.",
      "features": [
        "home_players_out            \u2014 integer count of home players ruled out",
        "away_players_out            \u2014 integer count of away players ruled out",
        "home_players_questionable   \u2014 integer count of questionable home players",
        "away_players_questionable   \u2014 integer count of questionable away players",
        "home_injury_severity        \u2014 weighted severity (Out=1.0, Doubtful=0.75, Questionable=0.5, DTD=0.25)",
        "away_injury_severity        \u2014 weighted severity score for away team"
      ],
      "double_encoding_note": "Injuries are encoded twice for robustness: (1) as explicit feature columns above, AND (2) as Elo rating adjustments before prediction. Example: LeBron James (Out) \u2192 Lakers Elo drops ~50 pts \u2192 ~8\u201312% swing in win prob."
    }
  },
  "total_features": 31,
  "output": {
    "home_win_probability": "Calibrated probability that home team wins (0.0\u20131.0)",
    "away_win_probability": "1 minus home win probability",
    "confidence_tier": "Human-readable confidence category"
  },
  "confidence_tiers": {
    "Heavy Favorite": "> 75% win probability",
    "Moderate Favorite": "65\u201375%",
    "Lean Favorite": "60\u201365%",
    "Toss-Up": "45\u201355%",
    "Lean Underdog": "40\u201345%",
    "Moderate Underdog": "35\u201340%",
    "Heavy Underdog": "< 35%"
  },
  "important_notes": {
    "injury_double_encoding": "Injuries affect predictions in two complementary ways: feature columns AND Elo adjustments. This means injury information is reflected even if one channel is unavailable.",
    "training_injury_zeros": "All injury feature columns were 0 in training rows. The model learns injury impact implicitly through Elo and rolling stats for historical games. At inference time the columns are populated with live ESPN values, giving the model an additional explicit signal.",
    "market_incorporation": "When betting odds are available they are included as features. Markets often price in injuries within minutes of announcement.",
    "calibration": "Isotonic regression calibration is applied \u2014 a 70% prediction should win ~70% of the time over a large sample.",
    "model_limitations": {
      "no_confirmed_lineups": "Model does not see confirmed starting lineups until tip-off.",
      "lag_on_trades": "Major roster moves take 5\u201310 games to be fully reflected in Elo.",
      "situational_context": "No awareness of playoff seeding urgency, load management, or tanking.",
      "injury_timing": "If a player is ruled out after predictions are generated, the model won't reflect it unless re-run."
    }
  },
  "interpretation_guide": {
    "injury_impact_examples": {
      "all_star_player_out": "\u221240 to \u221260 Elo \u2192 8\u201315% win-prob shift",
      "starting_player_out": "\u221220 to \u221230 Elo \u2192 3\u20137% shift",
      "bench_player_out": "Minimal, usually < 2%",
      "multiple_starters_out": "Can compound to 15\u201325% shift",
      "questionable_player": "50% weight applied \u2014 about half the Out impact"
    },
    "back_to_backs": "2\u20135% decrease in win probability for the tired team.",
    "home_court": "Built into Elo and rolling stats (~2\u20133% average advantage).",
    "market_vs_model": "Large divergence (> 5%) usually signals: late injury news the model hasn't seen, sharp-money information, or a genuine model edge."
  }
}